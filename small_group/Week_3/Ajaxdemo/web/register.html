<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>注册</title>
    </head>
    <body>

            <form action="" method="get">
                <label for="username">Enter your username(only zhangsan exists):</label>
                <input type="text" name="username" id="username">
                <br>
                <span id="username_error" style="display: none">用户名已存在</span>
                <br>
                <label for="password">Enter your password:</label>
                <input type="text" name="password" id="password">
                <br>
                <input type="submit" value="Submit">
            </form>

            

            <script>
                document.getElementById("username").onblur=function ()
                {
                    var username = this.value;

                    var xhttp;
                    if(window.XMLHttpRequest)
                    {
                        xhttp=new XMLHttpRequest();
                    }
                    else
                    {
                        xhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }

                    xhttp.open("GET","http://localhost:8080/Ajaxdemo/userSelectAjax?username="+username);
                    xhttp.send();

                    xhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4 && this.status == 200)
                        {
                            if(this.responseText=="true")
                            {
                                document.getElementById("username_error").style.display="";
                            }
                            else if(this.responseText=="false")
                            {
                                document.getElementById("username_error").style.display="none";
                            }
                        }
                    }

                }

            </script>

    </body>
</html>